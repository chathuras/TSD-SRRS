$(document).ready(function(){var e=function(e,a){$.get("/reservation/resources/reservations/"+a,function(a){if(a){$("#resCalendar").html(a),$("#resSave").click(function(){var a={resource_id:e,purpose:$("#iInputPurpose").val(),name:$("#iInputName").val(),address:$("#iInputAddress").val(),nic:$("#iInputNIC").val(),contact_number:$("#iInputContactNum").val(),email_address:$("#iInputEmail").val(),start:$("#iInputStartDate").val(),end:$("#iInputEndDate").val()};$.post("/reservation",a,function(e){e&&alert(e),$("#resCalendar").attr("class","modal fade"),$("#resCalendar").attr("aria-hidden","true")}),event.preventDefault()}),$("#iInputStartDate").datepicker(),$("#iInputEndDate").datepicker();var t=new Date;t.getDate(),t.getMonth(),t.getFullYear();$("#calendar").fullCalendar({header:{left:"prev,next",center:"title",right:"month,basicWeek,basicDay"},editable:!0,selectable:!0,selectOverlap:!1,events:"/reservation/reservation_search?resource_id="+e})}}),$("#resCalendar").attr("class","modal fade in"),$("#resCalendar").attr("aria-hidden","false")},a=function(){$.get("/reservation/index",function(a){a&&(r(),$("#iTbodyReservations").html(a),n()),$(".btnViewReservation").click(function(){var a=$(this).data("resource_id"),t=$(this).data("reservation_id");e(a,t)})})},t=$(".data-table"),n=function(){t.dataTable({bJQueryUI:!0,sPaginationType:"full_numbers",sDom:'<""l>t<"F"fp>'})},r=function(){t.dataTable().fnDestroy()};a(),n()});