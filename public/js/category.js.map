{"version":3,"sources":["csrf.js","category.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.js","sourcesContent":["$(document).ready(function () {\n  $.ajaxSetup({\n    headers: {\n      'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n  });\n});","$(document).ready(function () {\n  var getCategories = function () {\n    $.get('/category', function (response) {\n\n      if (response) {\n        destroyDataTable();\n        $('#iTbodyCategories').html(response);\n        initializeDataTable();\n      }\n\n      $('.cTrCategory').click(function () {\n        var id = $(this).data('id');\n\n        $.get('/category/' + id + '/edit', function (response) {\n          $('#iDivCategoryForm').html(response);\n          bindUpdateFormSubmit(id);\n        });\n      });\n    });\n  };\n\n  var bindStoreSubmit = function () {\n    $('#iFormCategory').submit(function (event) {\n      // TODO add $.blockui\n      event.preventDefault();\n      var category = {name: $('#iInputName').val(), description: $('#iTextDescription').val()};\n\n      $.post(\"/category\", category, function (response) {\n        getCategories();\n      });\n    });\n  };\n\n  var bindUpdateFormSubmit = function (id) {\n    $('#iFormCategory').submit(function (event) {\n      // TODO add $.blockui\n      event.preventDefault();\n      var category = {_method: 'PUT', id: id, name: $('#iInputName').val(), description: $('#iTextDescription').val()};\n\n      $.ajax({\n        url: '/category/' + id, type: 'PUT', data: category, success: function (response) {\n          getCategories();\n        }\n      });\n    });\n  };\n\n  var dataTable = $('.data-table');\n\n  var initializeDataTable = function () {\n    dataTable.dataTable({\n      \"bJQueryUI\": true,\n      \"sPaginationType\": \"full_numbers\",\n      \"sDom\": '<\"\"l>t<\"F\"fp>'\n    });\n  };\n\n  var destroyDataTable = function () {\n    dataTable.dataTable().fnDestroy();\n  };\n\n  getCategories();\n  bindStoreSubmit();\n  initializeDataTable();\n});"]}